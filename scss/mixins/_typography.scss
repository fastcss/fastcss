@use '../functions' as *;

@mixin make-typography-all() {
  @include import-google-fonts(conf('typography.google-fonts'));
  @include make-typography-body();

  @each $confKey, $confValues in conf('typography') {
    @each $key, $value in $confValues {
      $index: index($confValues, $value) - 1;
      @include make-typography($confKey, $key, $value);
    }
  }
}

// @param  {string} $type
// @param  {string} $key
// @param  {string} $value
@mixin make-typography($type, $key, $value) {
    @if $type == 'font-family' {
      @include font-family($key, $value);
    } @else if $type == 'font-size' {
      @include font-size($key, $value);
    } @else if $type == 'font-weight' {
      @include font-weight($key);
    } @else if $type == 'font-style' {
      @include font-style($key);
    } @else if $type == 'line-height' {
      @include line-height($key, $value);
    } @else if $type == 'word-spacing' {
      @include word-spacing($key, $value);
    } @else if $type == 'letter-spacing' {
      @include letter-spacing($key, $value);
    }
}

@mixin make-typography-body() {
  body {
    font-size: #{conf('typography.font-sizes.base')};
    font-family: #{conf('typography.font-families.base')};
    line-height: #{conf('typography.line-heights.base')};
    word-spacing: #{conf('typography.word-spacings.base')};
    letter-spacing: #{conf('typography.letter-spacings.base')};
  }
}

// @param  {string} $name
// @param  {integer} $value
@mixin font-family($name, $value) {
  .ff-#{$name} {
    font-family: #{$value};
  }
}

// @param  {string} $name
// @param  {integer} $value
@mixin font-size($name, $value) {
  .fs-#{$name} {
    font-size: #{$value};
  }
}

// @param  {integer} $weight
@mixin font-weight($weight) {
  .fw-#{$weight} {
    font-weight: #{$weight};
  }
}

// @param  {string} $style
@mixin font-style($style) {
  .fs-#{$style} {
    font-style: #{$style};
  }
}

// @param  {string} $name
// @param  {integer} $value
@mixin line-height($name, $value) {
  .lh-#{$name} {
    line-height: #{$value};
  }
}

// @param  {string} $name
// @param  {integer} $value
@mixin word-spacing($name, $value) {
  .ws-#{$name} {
    word-spacing: #{$value};
  }
}

// @param  {string} $name
// @param  {integer} $value
@mixin letter-spacing($name, $value) {
  .ls-#{$name} {
    letter-spacing: #{$value};
  }
}

// Import google font generating the @import rule
//
// @param  {string} $font
// @param  {list} $weights: ()
@mixin import-google-font($font, $weights: (400)) {
  $_weights: implode($weights, ';');
  @import url('https://fonts.googleapis.com/css2?family=#{unquote($font)}:wght@#{$_weights}&display=swap');
}

// @param  {list} $weights: ()
@mixin import-google-fonts($fonts: ()) {
  @each $font, $weight in $fonts {
    @include import-google-font($font, $weight);
  }
}
